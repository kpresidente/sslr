var dv=e=>{return{getData:function(t="both"){t=t.toLowerCase();return(Knack.views[e.key].model?.data.models||[Knack.views[e.key].model]).map((e=>{let r=Object.entries(e.attributes);return"raw"==t?(r=r.filter((([e,t])=>-1!==e.indexOf("_raw"))),r=r.map((([e,t])=>[e.replace("_raw",""),t])),r=r.map((([e,t])=>{const r=FLD[e].attributes.type;return"number"!=r&&"currency"!=r||(t*=1),[e,t]}))):"html"==t&&(r=r.filter((([e,t])=>-1!==e.indexOf("_raw")))),Object.fromEntries(r)}))},getDisplayed:function(){const r=t(),a=Knack.views[e.key].model;return("data"in a?a.data.models:[a]).map((e=>{const t=Object.entries(e.attributes).filter((([e,t])=>!!r[e])).map((([e,t])=>[r[e],t]));return Object.fromEntries(t)}))},getLabels:t,setData:function(e,t=!0){const a=Object.entries(e).map((([e,t])=>r(e,t)));return Promise.allSettled(a)},setValue:r,stripHTML:function(e){return e.map((e=>{const t=Object.entries(e).map((([e,t])=>[e,t=(t=t.replace(/<br\s*\/?>/gi,"\n")).replace(/<\/?[^>]+(>|$)/g,"")]));return Object.fromEntries(t)}))}};function t(t=!1){const r={},a=Knack.views[e.key].model.view.columns;return"details"==e.type||"list"==e.type?a.forEach((e=>e.groups.forEach((e=>e.columns.forEach((e=>e.filter((e=>"key"in e)).forEach((e=>{e.name=e.name.replace(/ /g,""),r[e.key]=e.name,t&&(r[`${e.key}_raw`]=`${e.name}_raw`)})))))))):"table"==e.type&&a.forEach((e=>{e.header=e.header.replace(/ /g,"_"),r[e.field.key]=e.header,t&&(r[`${e.field.key}_raw`]=`${e.header}_raw`)})),r}function r(t,r){const a=document.getElementById(`kn-input-${t}`);let c;switch(FLD[t].attributes.type){case"boolean":switch(FLD[t].attributes.format.input){case"checkbox":c=a.getQuerySelector("input"),c.value!=r&&c.click();break;case"radios":a.getQuerySelector(`input[value="${r}"]`).click();break;case"dropbown":c=document.getElementById(t),c.value=r;break}return;case"multiple_choice":switch(FLD[t].attributes.format.type){case"checkboxes":a.getQuerySelectorAll("input").forEach((e=>{const t=r.indexOf(e.value),a=e.getAttribute("checked");(t&&!a||!t&&a)&&e.click()}));break;case"radios":a.getQuerySelector(`input[value="${r}"]`).click();break;case"single":c=document.getElementById(t),c.value=r;break;case"multi":c=document.getElementById(`${e.key}-${t}`),c.value=r,c.dispatchEvent(new Event("liszt:updated"));break}return;case"connection":return c=document.getElementById(`${e.key}-${t}`),c.value=r,void c.dispatchEvent(new Event("liszt:updated"));case"currency":case"email":case"link":case"number":case"paragraph_text":case"phone":case"short_text":case"address":case"date_time":case"name":case"timer":return void("object"==typeof r?Object.entries(r).map((([e,t])=>a.getQuerySelector(`[name="${e}"]`).value=t)):c=document.getElementById(t).value=r);case"rating":return a.getQuerySelector(".rateit-selected").css("width",19*r+"px"),void a.getQuerySelector(".rateit-hover").css("width",19*r+"px");case"file":return c=document.getElementById(`${t}_upload`),void(c.value=r);case"rich_text":return c=a.getQuerySelector(".redactor-editor"),overwrite&&c.empty(),void c.append(r);default:return"Sorry don't support that control type"}}};